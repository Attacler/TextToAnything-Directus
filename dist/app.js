import{defineOperationApp as e,useApi as t,useStores as a,defineModule as n,defineInterface as l}from"@directus/extensions-sdk";import{resolveComponent as o,openBlock as i,createBlock as r,withCtx as d,createVNode as s,createCommentVNode as c,defineComponent as u,ref as p,computed as m,onMounted as g,watch as f,createTextVNode as v,unref as h,createElementBlock as T,createElementVNode as x,toDisplayString as b,resolveDynamicComponent as w,normalizeStyle as _,Fragment as A,pushScopeId as y,popScopeId as S,inject as k}from"vue";var V=e({id:"ttabarcode",name:"TTA generate barcode",icon:"box",description:"Generate a barcode trough Text to anything!",overview:({barcodeContent:e})=>[{label:"barcode content",text:e}],options:[{field:"barcodeContent",name:"content",type:"string",meta:{width:"full",interface:"input"}},{field:"barcodeType",name:"type",type:"dropdown",meta:{interface:"select-dropdown",options:{choices:["auspost","azteccode","azteccodecompact","aztecrune","bc412","channelcode","codablockf","code11","code128","code16k","code2of5","code32","code39","code39ext","code49","code93","code93ext","codeone","coop2of5","daft","databarexpanded","databarexpandedcomposite","databarexpandedstacked","databarexpandedstackedcomposite","databarlimited","databarlimitedcomposite","databaromni","databaromnicomposite","databarstacked","databarstackedcomposite","databarstackedomni","databarstackedomnicomposite","databartruncated","databartruncatedcomposite","datalogic2of5","datamatrix","datamatrixrectangular","datamatrixrectangularextension","dotcode","ean13","ean13composite","ean14","ean2","ean5","ean8","ean8composite","flattermarken","gs1-128","gs1-128composite","gs1-cc","gs1datamatrix","gs1datamatrixrectangular","gs1dldatamatrix","gs1dlqrcode","gs1dotcode","gs1northamericancoupon","gs1qrcode","hanxin","hibcazteccode","hibccodablockf","hibccode128","hibccode39","hibcdatamatrix","hibcdatamatrixrectangular","hibcmicropdf417","hibcpdf417","hibcqrcode","iata2of5","identcode","industrial2of5","interleaved2of5","isbn","ismn","issn","itf14","japanpost","kix","leitcode","mailmark","mands","matrix2of5","maxicode","micropdf417","microqrcode","msi","onecode","pdf417","pdf417compact","pharmacode","pharmacode2","planet","plessey","posicode","postnet","pzn","qrcode","rationalizedCodabar","raw","rectangularmicroqrcode","royalmail","sscc18","swissqrcode","symbol","telepen","telepennumeric","ultracode","upca","upcacomposite","upce","upcecomposite"].map((e=>({text:e,value:e})))}}},{field:"scale",name:"scale",type:"number",meta:{width:"full",interface:"input"}},{field:"height",name:"height",type:"number",meta:{width:"full",interface:"input"}},{field:"includetext",name:"include text",type:"boolean",meta:{width:"full",interface:"boolean"}}]}),$=e({id:"ttapdf",name:"TTA generate PDF",icon:"box",description:"Generate a PDF trough Text to anything!",overview:({filename:e})=>[{label:"File name",text:e}],options:[{field:"filename",name:"File name",type:"string",meta:{width:"full",interface:"input"}},{field:"pdfoptions",name:"Options",type:"json",meta:{width:"full",interface:"input-code",options:{language:"json",placeholder:JSON.stringify({html:"<h1>Hello world!</h1>",format:"A4",landscape:!1,margin:10,marginRight:5,marginLeft:5},null,2),template:JSON.stringify({html:"<h1>Hello world!</h1>",format:"A4",landscape:!1,margin:10,marginRight:5,marginLeft:5},null,2)}}}]}),C=e({id:"ttapdftemplate",name:"TTA generate PDF from template",icon:"box",description:"Generate a PDF based on a template trough Text to anything!",overview:({filename:e})=>[{label:"File name",text:e}],options:[{field:"filename",name:"File name",type:"string",meta:{width:"full",interface:"input"}},{field:"template",name:"Template",type:"string",meta:{interface:"TTA-pdf-template-selector",options:{}}},{field:"templatevariables",name:"Template variables",type:"json",meta:{width:"full",interface:"input-code",options:{language:"json"}}}]}),q=e({id:"ttaqrcode",name:"TTA generate QRcode",icon:"box",description:"Generate a QRcode trough Text to anything!",overview:({content:e})=>[{label:"QRCode content",text:e}],options:[{field:"content",name:"QRCode content",type:"string",meta:{width:"full",interface:"input"}},{field:"lightColor",name:"Light color",type:"string",meta:{width:"full",interface:"input"}},{field:"darkColor",name:"Dark color",type:"string",meta:{width:"full",interface:"input"}},{field:"margin",name:"Margin",type:"integer",meta:{width:"half",interface:"input"}},{field:"width",name:"Width",type:"integer",meta:{width:"half",interface:"input"}}]});const F=String.raw`[A-Za-z][^/\s>]*`,I=String.raw`(?<!\w)"(?:\\[^<>\n]|[^\\"<>\n])*"(?!\w)`,U=String.raw`(?<!\w)'(?:\\[^<>\n]|[^\\'<>\n])*'(?!\w)`,P=String.raw`${I}|${U}`,j=String.raw`"(?<quotedAttrValue>[^"]*)"`,E=String.raw`'(?<singleQuotedAttrValue>[^']*)'`,N=String.raw`(?<unquotedAttrValue>[^\s"'\`=<>]+)`,R=String.raw`[^=\s>/"']+(?=[=>\s]|$)`,z=String.raw`${j}|${E}|${N}`,D=String.raw`(?<attrName>${R})(?:\s*=\s*(?:${z}))?`,L=String.raw`${P}|[^\s>]*[^\s>/]|[^\s>]*/(?!\s*>)`,O=String.raw`(?<attrSpace>\s*)(?:${D}|(?<attrText>${L}))`,Q={comment:String.raw`<!--.*?-->`,dtd:String.raw`<![^>]+>`,startTag:String.raw`<(?<startTagName>${F})(?<attrs>(?:${O})*)\s*(?<closingSlash>/?)\s*>`,endTag:String.raw`</(?<endTagName>${F})\s*>`,space:String.raw`\s+`,text:String.raw`[^<\s"']+|${P}|['"]`,wildcard:String.raw`.`},G=Object.entries(Q).map((([e,t])=>`(?<${e}>${t})`)).join("|");const H=new Set(["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"]);function M(e,t="  ",a=80){const n=new RegExp(G,"gys"),l=new RegExp(O,"gy"),o=[];let i=null,r=0,d=0,s="",c=0,u="";const p=()=>{if(u&&"\n"!=u){const e=s.indexOf("\n"),t=-1==e?s.length:e;d+u.length+t>a&&(u="\n")}const e="\n"==u&&s?t.repeat(c):"",n=`${u}${e}${s}`;if(n){const e=n.lastIndexOf("\n");-1==e?d+=n.length:d=n.length-e-1,o.push(n)}s=u=""},m=(...e)=>{for(const t of e)!i&&/^\s+$/.test(t)?(p(),u=t):(s||(c=r),s+=t)};for(const t of function*(e,t){let a,{lastIndex:n}=e;for(;a=e.exec(t);)yield a,({lastIndex:n}=e);if(n!=t.length)throw new Error("Failed to parse string")}(n,e)){if(M.__strict&&t.groups.wildcard)throw new Error("Unexpected wildcard");if(t.groups.endTag){const e=t.groups.endTagName.toLowerCase();e==i&&(i=null),i||(--r,m(`</${e}>`))}if(i)m(t[0]);else if(t.groups.space)m(...t[0].match(/\n/g)?.slice(0,2)??[" "]);else if(t.groups.comment||t.groups.dtd||t.groups.text||t.groups.wildcard)m(t[0]);else if(t.groups.startTag){const e=t.groups.startTagName.toLowerCase();if(m(`<${e}`),++r,t.groups.attrs){let e,a,{lastIndex:n}=l;for(;e=l.exec(t.groups.attrs);){if(({lastIndex:n}=l),M.__strict&&e.groups.attrText)throw new Error("Unexpected attr text");e.groups.attrText?(e.groups.attrSpace&&m(/\n/.test(e.groups.attrSpace)?"\n":" "),m(e.groups.attrText)):(!e.groups.attrSpace&&a?.groups.attrText||m(/\n/.test(e.groups.attrSpace)?"\n":" "),m(`${e.groups.attrName}${e.groups.quotedAttrValue?`="${e.groups.quotedAttrValue}"`:e.groups.singleQuotedAttrValue?`='${e.groups.singleQuotedAttrValue}'`:e.groups.unquotedAttrValue?`=${e.groups.unquotedAttrValue}`:""}`)),a=e}if(n!=t.groups.attrs.length)throw new Error("Failed to parse attributes")}const a=Boolean(t.groups.closingSlash);m(a?" />":">"),a||H.has(e)?--r:["pre","textarea","script","style"].includes(e)&&(i=e)}}p();let g=!1;for(;/^\s+$/.test(o[o.length-1]);){const e=o.pop();/\n/.test(e)&&(g=!0)}return g&&o.push("\n"),o.join("")}M.default=M;var B=M;const J={render:function(e,t){const a=o("v-icon"),n=o("v-list-item-icon"),l=o("v-text-overflow"),u=o("v-list-item-content"),p=o("v-list-item"),m=o("v-list");return i(),r(m,{nav:""},{default:d((()=>[s(p,{to:"/tta_settings/templates"},{default:d((()=>[s(n,null,{default:d((()=>[s(a,{name:"code"})])),_:1}),s(u,null,{default:d((()=>[s(l,{text:"Templates"})])),_:1})])),_:1}),s(p,{to:"/tta_settings/settings"},{default:d((()=>[s(n,null,{default:d((()=>[s(a,{name:"settings"})])),_:1}),s(u,null,{default:d((()=>[s(l,{text:"Settings"})])),_:1})])),_:1}),c(' <v-list-item to="/tta_settings/usage">\n      <v-list-item-icon><v-icon name="bar_chart" /></v-list-item-icon>\n      <v-list-item-content>\n        <v-text-overflow text="Usage" />\n      </v-list-item-content>\n    </v-list-item> ')])),_:1})},__file:"settingsmodule/src/TTAnav.vue"},K={key:0,class:"TTA-popup"},Y={class:"TTA-toolbar"},W={class:"right-side"},Z={class:"setwidth"},X={class:"TTA-action"},ee={class:"TTA-wapper"},te=["src"];var ae=u({__name:"templates",setup(e){const n=p([]),l=p(!1),u=p(!1),A=p(50),y=m((()=>100-A.value)),S=m((()=>100-y.value)),k=t(),V=p({template:"",id:-1,name:"",description:"",collection:"",format:"A4",orientation:"portrait"}),{useCollectionsStore:$}=a(),C=$(),q=m((()=>C.collections.filter((e=>"TTA_htmltemplates"!=e.collection)).map((e=>({text:e.name,value:e.collection}))))),F=m((()=>"data:text/html;charset=utf-8,"+encodeURIComponent(`${V.value.template}`)));async function I(){const e=await k.get("/items/TTA_htmltemplates",{params:{limit:-1}});n.value=e.data.data}async function U(){console.log(V.value),-1==V.value.id?await k.post("/items/TTA_htmltemplates",{...V.value,id:void 0}):await k.patch("/items/TTA_htmltemplates/"+V.value.id,{...V.value,id:void 0}),l.value=!1,I()}function P({item:e}){console.log(e),V.value=e,u.value=!0}function j(){V.value={template:"",id:-1,name:"",description:"",collection:"",format:"A4",orientation:"portrait"},u.value=!1}function E(){V.value.template=B(V.value.template)}return g((async()=>{A.value=parseInt(localStorage.getItem("TTA-widthPartition")||"50"),I()})),f((()=>A.value),(e=>localStorage.setItem("TTA-widthPartition",e+""))),(e,t)=>{const a=o("v-icon"),p=o("v-button"),m=o("v-card-title"),g=o("v-input"),f=o("v-list-item-content"),k=o("v-list-item"),$=o("v-select"),C=o("v-list"),I=o("v-card-text"),N=o("v-card-actions"),R=o("v-card"),z=o("v-dialog"),D=o("v-slider"),L=o("v-table"),O=o("private-view");return i(),r(O,{title:"Templates"},{navigation:d((()=>[s(J)])),actions:d((()=>[s(p,{rounded:"",icon:"",onClick:t[0]||(t[0]=e=>l.value=!0)},{default:d((()=>[s(a,{name:"add"})])),_:1}),s(z,{modelValue:l.value,"onUpdate:modelValue":t[7]||(t[7]=e=>l.value=e),persistent:!0},{default:d((()=>[s(R,null,{default:d((()=>[s(m,null,{default:d((()=>[v("Create a new HTML template")])),_:1}),s(I,null,{default:d((()=>[s(C,null,{default:d((()=>[s(k,null,{default:d((()=>[s(f,null,{default:d((()=>[s(g,{modelValue:V.value.name,"onUpdate:modelValue":t[1]||(t[1]=e=>V.value.name=e),placeholder:"Template name"},null,8,["modelValue"])])),_:1})])),_:1}),s(k,null,{default:d((()=>[s(f,null,{default:d((()=>[s(g,{modelValue:V.value.description,"onUpdate:modelValue":t[2]||(t[2]=e=>V.value.description=e),placeholder:"Description"},null,8,["modelValue"])])),_:1})])),_:1}),s(k,null,{default:d((()=>[s(f,null,{default:d((()=>[s($,{modelValue:V.value.format,"onUpdate:modelValue":t[3]||(t[3]=e=>V.value.format=e),placeholder:"Size",items:["A1","A2","A3","A4","A5","A6","Letter","Legal","Tabloid","Ledger"].map((e=>({text:e,value:e})))},null,8,["modelValue","items"])])),_:1})])),_:1}),s(k,null,{default:d((()=>[s(f,null,{default:d((()=>[s($,{modelValue:V.value.orientation,"onUpdate:modelValue":t[4]||(t[4]=e=>V.value.orientation=e),placeholder:"Orientation",items:["portrait","landscape"].map((e=>({text:e,value:e})))},null,8,["modelValue","items"])])),_:1})])),_:1}),s(k,null,{default:d((()=>[s(f,null,{default:d((()=>[s($,{modelValue:V.value.collection,"onUpdate:modelValue":t[5]||(t[5]=e=>V.value.collection=e),items:h(q),placeholder:"Collection"},null,8,["modelValue","items"])])),_:1})])),_:1})])),_:1})])),_:1}),s(N,null,{default:d((()=>[s(p,{secondary:"",onClick:t[6]||(t[6]=e=>l.value=!1)},{default:d((()=>[v(" Cancel ")])),_:1}),s(p,{disabled:!V.value.collection||!V.value.name||!V.value.format,onClick:U},{default:d((()=>[v(" Save ")])),_:1},8,["disabled"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),default:d((()=>[u.value?(i(),T("div",K,[x("div",Y,[x("div",{onClick:t[8]||(t[8]=e=>l.value=!0),class:"TTA-template-title"},[v(b(V.value.name)+" ",1),s(a,{name:"edit"})]),x("div",W,[x("div",{class:"TTA-action",onClick:E},[s(a,{name:"vertical_align_center"})]),x("div",{class:"TTA-action",onClick:U},[s(a,{name:"save"})]),x("div",Z,[s(D,{modelValue:A.value,"onUpdate:modelValue":t[9]||(t[9]=e=>A.value=e),min:10,max:90,class:"TTA-slider"},null,8,["modelValue"])]),x("div",X,[s(a,{name:"close",onClick:j})])])]),x("div",ee,[(i(),r(w("interface-input-code"),{class:"TTA-editor",value:V.value.template,language:"htmlmixed",onInput:t[10]||(t[10]=e=>V.value.template=e),style:_("width: "+h(S)+"%")},null,40,["value","style"])),x("iframe",{class:"TTA-preview",src:h(F),style:_("width: "+h(y)+"%")},null,12,te)])])):c("v-if",!0),s(L,{headers:[{text:"Name",value:"name"},{text:"Description",value:"description"},{text:"Collection",value:"collection"},{text:"Format",value:"format"}],"onClick:row":P,items:n.value},null,8,["items"])])),_:1})}}}),ne=[],le=[];function oe(e,t){if(e&&"undefined"!=typeof document){var a,n=!0===t.prepend?"prepend":"append",l=!0===t.singleTag,o="string"==typeof t.container?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(l){var i=ne.indexOf(o);-1===i&&(i=ne.push(o)-1,le[i]={}),a=le[i]&&le[i][n]?le[i][n]:le[i][n]=r()}else a=r();65279===e.charCodeAt(0)&&(e=e.substring(1)),a.styleSheet?a.styleSheet.cssText+=e:a.appendChild(document.createTextNode(e))}function r(){var e=document.createElement("style");if(e.setAttribute("type","text/css"),t.attributes)for(var a=Object.keys(t.attributes),l=0;l<a.length;l++)e.setAttribute(a[l],t.attributes[a[l]]);var i="prepend"===n?"afterbegin":"beforeend";return o.insertAdjacentElement(i,e),e}}oe("\n.TTA-popup {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 100;\n  display: flex;\n  flex-direction: column;\n  background-color: var(--background-subdued);\n}\n.TTA-toolbar {\n  background-color: var(--background-subdued);\n  display: flex;\n  justify-content: space-between;\n}\n.TTA-toolbar .right-side {\n  display: flex;\n  gap: 5px;\n}\n.TTA-toolbar .TTA-slider {\n  padding-top: 5px;\n}\n.TTA-toolbar .TTA-action {\n  padding: 5px;\n  cursor: pointer;\n}\n.TTA-toolbar .setwidth {\n  display: flex;\n  gap: 10px;\n  padding-top: 6px;\n}\n.TTA-toolbar .TTA-template-title {\n  margin: auto 0;\n  font-size: 18px;\n  cursor: pointer;\n  padding-right: 5px;\n  padding-left: 20px;\n  border-bottom: 1px solid var(--v-list-item-border-color);\n}\n.TTA-toolbar .TTA-template-title i {\n  padding-left: 5px;\n}\n.TTA-wapper {\n  display: flex;\n  flex-grow: 1;\n  overflow: hidden;\n}\n.TTA-preview {\n  flex-grow: 1;\n  background-color: white;\n  border: 0;\n}\n.TTA-editor {\n  flex-grow: 1;\n  height: 100%;\n}\n.TTA-editor > div {\n  height: 100% !important;\n  border-radius: 0 !important;\n}\n.TTA-editor .CodeMirror {\n  height: 100%;\n}\n",{}),ae.__file="settingsmodule/src/templates.vue";const ie=e=>(y("data-v-014dce90"),e=e(),S(),e),re={class:"px-5"},de=ie((()=>x("span",{class:"field-name"},"RapidAPI token",-1)));var se=u({__name:"settings",setup(e){const a=p(""),n=p(!1),l=t(),c=p([]);async function u(){n.value=!0,await l.patch("/settings",{TTA_KEY:a.value}),setTimeout((()=>{n.value=!1}),500)}return g((async()=>{const e=await l.get("/settings");a.value=e.data.data.TTA_KEY;const t=await l.get("/folders");c.value=t.data.data.map((e=>({text:e.name,value:e.id})))})),(e,t)=>{const l=o("v-card-title"),c=o("v-input"),p=o("v-card-text"),m=o("v-icon"),g=o("v-button"),f=o("v-progress-circular"),h=o("v-card-actions"),b=o("v-card"),w=o("private-view");return i(),r(w,{title:"Settings"},{navigation:d((()=>[s(J)])),default:d((()=>[x("div",re,[s(b,{class:"w-full"},{default:d((()=>[s(l,null,{default:d((()=>[v("API settings")])),_:1}),s(p,{class:"fields-spacing"},{default:d((()=>[x("div",null,[de,s(c,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e)},null,8,["modelValue"])])])),_:1}),s(h,null,{default:d((()=>[s(g,{href:"https://rapidapi.com/Attacler/api/text-to-anything",target:"_blank"},{default:d((()=>[s(m,{name:"open_in_new"}),v(" Get RapidAPI token ")])),_:1}),s(g,{onClick:u,disabled:n.value},{default:d((()=>[n.value?(i(),r(f,{key:1,small:!0,indeterminate:""})):(i(),T(A,{key:0},[v(" Save ")],64))])),_:1},8,["disabled"])])),_:1})])),_:1})])])),_:1})}}});oe("\n.w-full[data-v-014dce90] {\n  width: 100%;\n}\n.px-5[data-v-014dce90] {\n  padding: 0 2.5rem;\n}\n.fields-spacing[data-v-014dce90] {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n",{}),se.__scopeId="data-v-014dce90",se.__file="settingsmodule/src/settings.vue";var ce=u({__name:"usage",setup:e=>(e,t)=>{const a=o("private-view");return i(),r(a,{title:"Usage"},{navigation:d((()=>[s(J)])),default:d((()=>[v(" Comming soon! ")])),_:1})}});ce.__file="settingsmodule/src/usage.vue";var ue=n({id:"tta_settings",name:"Text to anything settings",icon:"text_fields",routes:[{path:"",redirect:"/tta_settings/templates"},{path:"templates",component:ae},{path:"settings",component:se},{path:"usage",component:ce}]}),pe=u({__name:"interface",props:["value"],emits:["input"],setup(e,{emit:t}){const a=e,n=k("api"),l=p(""),d=p([]);return g((async()=>{l.value=a.value,f((()=>l.value),((e,a)=>{e!=a&&t("input",e)}));const e=await n.get("/items/TTA_htmltemplates");d.value=e.data.data.map((e=>({text:e.name,value:e.id})))})),(e,t)=>{const a=o("v-select");return i(),r(a,{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),items:d.value},null,8,["modelValue","items"])}}});pe.__file="PDFTemplateSelector/src/interface.vue";const me=[l({id:"TTA-pdf-template-selector",name:"PDF template selector",icon:"box",description:"Selector for a PDF template for Text To Anything",component:pe,options:null,types:["string"]})],ge=[],fe=[],ve=[ue],he=[],Te=[V,$,C,q];export{ge as displays,me as interfaces,fe as layouts,ve as modules,Te as operations,he as panels};
